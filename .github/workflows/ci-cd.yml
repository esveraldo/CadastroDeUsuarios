name: Debug Secrets

on:
  workflow_dispatch:

jobs:
  show-secrets:
    runs-on: ubuntu-latest

    steps:
      - name: Mostrar contexto
        run: |
          echo "GITHUB_REPOSITORY = $GITHUB_REPOSITORY"
          echo "GITHUB_EVENT_NAME = $GITHUB_EVENT_NAME"
          echo "GITHUB_REF        = $GITHUB_REF"

      - name: Mostrar EC2_* (secrets)
        run: |
          echo "EC2_HOST (secrets) = '${{ secrets.EC2_HOST }}'"
          echo "EC2_USER (secrets) = '${{ secrets.EC2_USER }}'"
          if [ -z "${{ secrets.EC2_SSH_KEY }}" ]; then
            echo "EC2_SSH_KEY (secrets) está VAZIO"
          else
            echo "EC2_SSH_KEY (secrets) ESTÁ DEFINIDO (não vou exibir)"
          fi

      - name: Mostrar EC2_* (vars) só pra conferir
        run: |
          echo "EC2_HOST (vars) = '${{ vars.EC2_HOST }}'"
          echo "EC2_USER (vars) = '${{ vars.EC2_USER }}'"
